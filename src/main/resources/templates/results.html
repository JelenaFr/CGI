<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

  <title>Registration result</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link type="text/css" th:href="@{../css/style.css}" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
  integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"/>

</head>
<body class="container text-center">
<h3 th:text="#{registration.ok}">registration.ok</h3>


<div class="container text-center">
  <table  style="width:100%" id="visit-table" class="sortable">
    <thead>
    <tr>
      <th class="sorttable_numeric">Nr.</th>
      <th class="sorttable_numeric">Arsti nimi</th>
      <th class="sorttable_numeric">Visiidi kuup√§ev</th>
      <th class="sorttable_numeric">Visiidi kellaeg</th>
      <th >Toimingud</th>


    </tr>
    </thead>
    <tbody>
    <tr th:each="appointment, state : ${appointments}">
      <td th:text="${state.count}"></td>
      <td th:text="${appointment.dentist.name}"></td>
      <td th:text="${appointment.date}"></td>
      <td th:text="${appointment.period}"></td>

      <td>

        <div>

          <form action="#" th:action="@{/results/{id}/showFormForUpdate(id=${appointment.id})}" th:object="${appointment}" th:value="${appointment.id}" method="POST">

            <input type="hidden" name="visitId" th:value="${appointment.id}"/>
            <button type="submit" class="btn btn-info btn-sm ml-3 mr-1">Muuta</button>
            <button type="submit" class="btn btn-danger btn-sm"
                    onclick="if (!(confirm('Are you sure you want to delete this appointment?'))) return false">
              Kustuta
            </button>
          </form>
        </div>
      </td>
      <td>
        <form action="#" th:action="@{/results/{id}/edit(id=${appointment.id})}" th:object="${appointment}" th:value="${appointment.id}" method="POST">

        </form>
      </td>
    </tr>
    <p></p>
    <a th:href="@{/}">Uus registration</a>
    <p></p>
    </tbody>
  </table>
</div>

<script type="text/javascript" th:src="@{../js/sorttable.js}"></script>

</body>
</html>
